Ballerina File(0,2286)
  PsiComment(LINE_COMMENT)('// This is the server implementation for the TCP socket.')(0,56)
  PsiWhiteSpace('\n')(56,57)
  PsiElement(import)('import')(57,63)
  PsiWhiteSpace(' ')(63,64)
  PsiElement(identifier)('ballerina')(64,73)
  PsiElement(/)('/')(73,74)
  PsiElement(identifier)('io')(74,76)
  PsiElement(;)(';')(76,77)
  PsiWhiteSpace('\n')(77,78)
  PsiElement(import)('import')(78,84)
  PsiWhiteSpace(' ')(84,85)
  PsiElement(identifier)('ballerina')(85,94)
  PsiElement(/)('/')(94,95)
  PsiElement(identifier)('log')(95,98)
  PsiElement(;)(';')(98,99)
  PsiWhiteSpace('\n')(99,100)
  PsiElement(import)('import')(100,106)
  PsiWhiteSpace(' ')(106,107)
  PsiElement(identifier)('ballerina')(107,116)
  PsiElement(/)('/')(116,117)
  PsiElement(identifier)('socket')(117,123)
  PsiElement(;)(';')(123,124)
  PsiWhiteSpace('\n\n')(124,126)
  PsiComment(LINE_COMMENT)('// Bind the service to the port.')(126,158)
  PsiWhiteSpace('\n')(158,159)
  PsiComment(LINE_COMMENT)('// The socket listener should have these four predefined resources.')(159,226)
  PsiWhiteSpace('\n')(226,227)
  PsiElement(service)('service')(227,234)
  PsiWhiteSpace(' ')(234,235)
  PsiElement(identifier)('echoServer')(235,245)
  PsiWhiteSpace(' ')(245,246)
  PsiElement(on)('on')(246,248)
  PsiWhiteSpace(' ')(248,249)
  PsiElement(new)('new')(249,252)
  PsiWhiteSpace('  ')(252,254)
  PsiElement(identifier)('socket')(254,260)
  PsiElement(:)(':')(260,261)
  PsiElement(identifier)('Listener')(261,269)
  PsiElement(()('(')(269,270)
  PsiElement(DECIMAL_INTEGER_LITERAL)('61598')(270,275)
  PsiElement())(')')(275,276)
  PsiWhiteSpace(' ')(276,277)
  PsiErrorElement:<definition with multiple annotation attachments>, <definition with single annotation attachment> or <definition without annotation attachments> expected, got '{'(277,278)
    PsiElement({)('{')(277,278)
  PsiElement(DUMMY_BLOCK)(278,1103)
    PsiElement(DUMMY_BLOCK)(278,393)
      PsiWhiteSpace('\n    ')(278,283)
      PsiComment(LINE_COMMENT)('// This resource is invoked when the new client joins.')(283,337)
      PsiWhiteSpace('\n    ')(337,342)
      PsiElement(resource)('resource')(342,350)
      PsiWhiteSpace(' ')(350,351)
      PsiElement(function)('function')(351,359)
      PsiWhiteSpace(' ')(359,360)
      PsiElement(identifier)('onConnect')(360,369)
      PsiElement(()('(')(369,370)
      PsiElement(identifier)('socket')(370,376)
      PsiElement(:)(':')(376,377)
      PsiElement(identifier)('Caller')(377,383)
      PsiWhiteSpace(' ')(383,384)
      PsiElement(identifier)('caller')(384,390)
      PsiElement())(')')(390,391)
      PsiWhiteSpace(' ')(391,392)
      PsiElement({)('{')(392,393)
    PsiElement(DUMMY_BLOCK)(393,449)
      PsiWhiteSpace('\n        ')(393,402)
      PsiElement(identifier)('log')(402,405)
      PsiElement(:)(':')(405,406)
      PsiElement(identifier)('printInfo')(406,415)
      PsiElement(()('(')(415,416)
      PsiElement(QUOTED_STRING_LITERAL)('"Client connected: "')(416,436)
      PsiWhiteSpace(' ')(436,437)
      PsiElement(+)('+')(437,438)
      PsiWhiteSpace(' ')(438,439)
      PsiElement(identifier)('caller')(439,445)
      PsiElement(.)('.')(445,446)
      PsiElement(identifier)('id')(446,448)
      PsiElement())(')')(448,449)
    PsiElement(DUMMY_BLOCK)(449,590)
      PsiElement(;)(';')(449,450)
      PsiWhiteSpace('\n    ')(450,455)
      PsiElement(})('}')(455,456)
      PsiWhiteSpace('\n\n    ')(456,462)
      PsiComment(LINE_COMMENT)('// This resource is invoked once the content is received from the client.')(462,535)
      PsiWhiteSpace('\n    ')(535,540)
      PsiElement(resource)('resource')(540,548)
      PsiWhiteSpace(' ')(548,549)
      PsiElement(function)('function')(549,557)
      PsiWhiteSpace(' ')(557,558)
      PsiElement(identifier)('onReadReady')(558,569)
      PsiElement(()('(')(569,570)
      PsiElement(identifier)('socket')(570,576)
      PsiElement(:)(':')(576,577)
      PsiElement(identifier)('Caller')(577,583)
      PsiWhiteSpace(' ')(583,584)
      PsiElement(identifier)('caller')(584,590)
    PsiElement(DUMMY_BLOCK)(590,629)
      PsiElement())(')')(590,591)
      PsiWhiteSpace(' ')(591,592)
      PsiElement({)('{')(592,593)
      PsiWhiteSpace('\n        ')(593,602)
      PsiElement(var)('var')(602,605)
      PsiWhiteSpace(' ')(605,606)
      PsiElement(identifier)('result')(606,612)
      PsiWhiteSpace(' ')(612,613)
      PsiElement(=)('=')(613,614)
      PsiWhiteSpace(' ')(614,615)
      PsiElement(identifier)('caller')(615,621)
      PsiElement(->)('->')(621,623)
      PsiElement(identifier)('read')(623,627)
      PsiElement(()('(')(627,628)
      PsiElement())(')')(628,629)
    PsiElement(DUMMY_BLOCK)(629,661)
      PsiElement(;)(';')(629,630)
      PsiWhiteSpace('\n        ')(630,639)
      PsiElement(if)('if')(639,641)
      PsiWhiteSpace(' ')(641,642)
      PsiElement(()('(')(642,643)
      PsiElement(identifier)('result')(643,649)
      PsiWhiteSpace(' ')(649,650)
      PsiElement(is)('is')(650,652)
      PsiWhiteSpace(' ')(652,653)
      PsiElement(()('(')(653,654)
      PsiElement(byte)('byte')(654,658)
      PsiElement([)('[')(658,659)
      PsiElement(])(']')(659,660)
      PsiElement(,)(',')(660,661)
    PsiElement(DUMMY_BLOCK)(661,703)
      PsiWhiteSpace(' ')(661,662)
      PsiElement(int)('int')(662,665)
      PsiElement())(')')(665,666)
      PsiElement())(')')(666,667)
      PsiWhiteSpace(' ')(667,668)
      PsiElement({)('{')(668,669)
      PsiWhiteSpace('\n            ')(669,682)
      PsiElement(var)('var')(682,685)
      PsiWhiteSpace(' ')(685,686)
      PsiElement(()('(')(686,687)
      PsiElement(identifier)('content')(687,694)
      PsiElement(,)(',')(694,695)
      PsiWhiteSpace(' ')(695,696)
      PsiElement(identifier)('length')(696,702)
      PsiElement())(')')(702,703)
    PsiElement(DUMMY_BLOCK)(703,743)
      PsiWhiteSpace(' ')(703,704)
      PsiElement(=)('=')(704,705)
      PsiWhiteSpace(' ')(705,706)
      PsiElement(identifier)('result')(706,712)
      PsiElement(;)(';')(712,713)
      PsiWhiteSpace('\n            ')(713,726)
      PsiElement(if)('if')(726,728)
      PsiWhiteSpace(' ')(728,729)
      PsiElement(()('(')(729,730)
      PsiElement(identifier)('length')(730,736)
      PsiWhiteSpace(' ')(736,737)
      PsiElement(>)('>')(737,738)
      PsiWhiteSpace(' ')(738,739)
      PsiElement(DECIMAL_INTEGER_LITERAL)('0')(739,740)
      PsiElement())(')')(740,741)
      PsiWhiteSpace(' ')(741,742)
      PsiElement({)('{')(742,743)
    PsiElement(DUMMY_BLOCK)(743,937)
      PsiWhiteSpace('\n                ')(743,760)
      PsiComment(LINE_COMMENT)('// Create a new `ReadableByteChannel` using the newly received content.')(760,831)
      PsiWhiteSpace('\n                ')(831,848)
      PsiElement(identifier)('io')(848,850)
      PsiElement(:)(':')(850,851)
      PsiElement(identifier)('ReadableByteChannel')(851,870)
      PsiWhiteSpace(' ')(870,871)
      PsiElement(identifier)('byteChannel')(871,882)
      PsiWhiteSpace(' ')(882,883)
      PsiElement(=)('=')(883,884)
      PsiWhiteSpace('\n                    ')(884,905)
      PsiElement(identifier)('io')(905,907)
      PsiElement(:)(':')(907,908)
      PsiElement(identifier)('createReadableChannel')(908,929)
      PsiElement(()('(')(929,930)
      PsiElement(identifier)('content')(930,937)
    PsiElement(DUMMY_BLOCK)(937,1030)
      PsiElement())(')')(937,938)
      PsiElement(;)(';')(938,939)
      PsiWhiteSpace('\n                ')(939,956)
      PsiElement(identifier)('io')(956,958)
      PsiElement(:)(':')(958,959)
      PsiElement(identifier)('ReadableCharacterChannel')(959,983)
      PsiWhiteSpace(' ')(983,984)
      PsiElement(identifier)('characterChannel')(984,1000)
      PsiWhiteSpace(' ')(1000,1001)
      PsiElement(=)('=')(1001,1002)
      PsiWhiteSpace('\n                    ')(1002,1023)
      PsiElement(new)('new')(1023,1026)
      PsiWhiteSpace(' ')(1026,1027)
      PsiElement(identifier)('io')(1027,1029)
      PsiElement(:)(':')(1029,1030)
    PsiElement(DUMMY_BLOCK)(1030,1103)
      PsiElement(identifier)('ReadableCharacterChannel')(1030,1054)
      PsiElement(()('(')(1054,1055)
      PsiElement(identifier)('byteChannel')(1055,1066)
      PsiElement(,)(',')(1066,1067)
      PsiWhiteSpace(' ')(1067,1068)
      PsiElement(QUOTED_STRING_LITERAL)('"UTF-8"')(1068,1075)
      PsiElement())(')')(1075,1076)
      PsiElement(;)(';')(1076,1077)
      PsiWhiteSpace('\n                ')(1077,1094)
      PsiElement(var)('var')(1094,1097)
      PsiWhiteSpace(' ')(1097,1098)
      PsiElement(identifier)('str')(1098,1101)
      PsiWhiteSpace(' ')(1101,1102)
      PsiElement(=)('=')(1102,1103)
  PsiElement(DUMMY_BLOCK)(1103,1947)
    PsiElement(DUMMY_BLOCK)(1103,1154)
      PsiWhiteSpace(' ')(1103,1104)
      PsiElement(identifier)('characterChannel')(1104,1120)
      PsiElement(.)('.')(1120,1121)
      PsiElement(identifier)('read')(1121,1125)
      PsiElement(()('(')(1125,1126)
      PsiElement(DECIMAL_INTEGER_LITERAL)('20')(1126,1128)
      PsiElement())(')')(1128,1129)
      PsiElement(;)(';')(1129,1130)
      PsiWhiteSpace('\n                ')(1130,1147)
      PsiElement(if)('if')(1147,1149)
      PsiWhiteSpace(' ')(1149,1150)
      PsiElement(()('(')(1150,1151)
      PsiElement(identifier)('str')(1151,1154)
    PsiElement(DUMMY_BLOCK)(1154,1216)
      PsiWhiteSpace(' ')(1154,1155)
      PsiElement(is)('is')(1155,1157)
      PsiWhiteSpace(' ')(1157,1158)
      PsiElement(string)('string')(1158,1164)
      PsiElement())(')')(1164,1165)
      PsiWhiteSpace(' ')(1165,1166)
      PsiElement({)('{')(1166,1167)
      PsiWhiteSpace('\n                    ')(1167,1188)
      PsiElement(string)('string')(1188,1194)
      PsiWhiteSpace(' ')(1194,1195)
      PsiElement(identifier)('reply')(1195,1200)
      PsiWhiteSpace(' ')(1200,1201)
      PsiElement(=)('=')(1201,1202)
      PsiWhiteSpace(' ')(1202,1203)
      PsiElement(identifier)('untaint')(1203,1210)
      PsiWhiteSpace(' ')(1210,1211)
      PsiElement(identifier)('str')(1211,1214)
      PsiWhiteSpace(' ')(1214,1215)
      PsiElement(+)('+')(1215,1216)
    PsiElement(DUMMY_BLOCK)(1216,1284)
      PsiWhiteSpace(' ')(1216,1217)
      PsiElement(QUOTED_STRING_LITERAL)('" back"')(1217,1224)
      PsiElement(;)(';')(1224,1225)
      PsiWhiteSpace('\n                    ')(1225,1246)
      PsiElement(byte)('byte')(1246,1250)
      PsiElement([)('[')(1250,1251)
      PsiElement(])(']')(1251,1252)
      PsiWhiteSpace(' ')(1252,1253)
      PsiElement(identifier)('payloadByte')(1253,1264)
      PsiWhiteSpace(' ')(1264,1265)
      PsiElement(=)('=')(1265,1266)
      PsiWhiteSpace(' ')(1266,1267)
      PsiElement(identifier)('reply')(1267,1272)
      PsiElement(.)('.')(1272,1273)
      PsiElement(identifier)('toByteArray')(1273,1284)
    PsiElement(DUMMY_BLOCK)(1284,1401)
      PsiElement(()('(')(1284,1285)
      PsiElement(QUOTED_STRING_LITERAL)('"UTF-8"')(1285,1292)
      PsiElement())(')')(1292,1293)
      PsiElement(;)(';')(1293,1294)
      PsiWhiteSpace('\n                    ')(1294,1315)
      PsiComment(LINE_COMMENT)('// Send the reply to the `caller`.')(1315,1349)
      PsiWhiteSpace('\n                    ')(1349,1370)
      PsiElement(var)('var')(1370,1373)
      PsiWhiteSpace(' ')(1373,1374)
      PsiElement(identifier)('writeResult')(1374,1385)
      PsiWhiteSpace(' ')(1385,1386)
      PsiElement(=)('=')(1386,1387)
      PsiWhiteSpace(' ')(1387,1388)
      PsiElement(identifier)('caller')(1388,1394)
      PsiElement(->)('->')(1394,1396)
      PsiElement(identifier)('write')(1396,1401)
    PsiElement(DUMMY_BLOCK)(1401,1459)
      PsiElement(()('(')(1401,1402)
      PsiElement(identifier)('payloadByte')(1402,1413)
      PsiElement())(')')(1413,1414)
      PsiElement(;)(';')(1414,1415)
      PsiWhiteSpace('\n                    ')(1415,1436)
      PsiElement(if)('if')(1436,1438)
      PsiWhiteSpace(' ')(1438,1439)
      PsiElement(()('(')(1439,1440)
      PsiElement(identifier)('writeResult')(1440,1451)
      PsiWhiteSpace(' ')(1451,1452)
      PsiElement(is)('is')(1452,1454)
      PsiWhiteSpace(' ')(1454,1455)
      PsiElement(int)('int')(1455,1458)
      PsiElement())(')')(1458,1459)
    PsiElement(DUMMY_BLOCK)(1459,1543)
      PsiWhiteSpace(' ')(1459,1460)
      PsiElement({)('{')(1460,1461)
      PsiWhiteSpace('\n                        ')(1461,1486)
      PsiElement(identifier)('log')(1486,1489)
      PsiElement(:)(':')(1489,1490)
      PsiElement(identifier)('printInfo')(1490,1499)
      PsiElement(()('(')(1499,1500)
      PsiElement(QUOTED_STRING_LITERAL)('"Number of bytes written: "')(1500,1527)
      PsiWhiteSpace(' ')(1527,1528)
      PsiElement(+)('+')(1528,1529)
      PsiWhiteSpace(' ')(1529,1530)
      PsiElement(identifier)('writeResult')(1530,1541)
      PsiElement())(')')(1541,1542)
      PsiElement(;)(';')(1542,1543)
    PsiElement(DUMMY_BLOCK)(1543,1674)
      PsiWhiteSpace('\n                    ')(1543,1564)
      PsiElement(})('}')(1564,1565)
      PsiWhiteSpace(' ')(1565,1566)
      PsiElement(else)('else')(1566,1570)
      PsiWhiteSpace(' ')(1570,1571)
      PsiElement({)('{')(1571,1572)
      PsiWhiteSpace('\n                        ')(1572,1597)
      PsiElement(identifier)('log')(1597,1600)
      PsiElement(:)(':')(1600,1601)
      PsiElement(identifier)('printError')(1601,1611)
      PsiElement(()('(')(1611,1612)
      PsiElement(QUOTED_STRING_LITERAL)('"Unable to write the content"')(1612,1641)
      PsiElement(,)(',')(1641,1642)
      PsiWhiteSpace('\n                            ')(1642,1671)
      PsiElement(identifier)('err')(1671,1674)
    PsiElement(DUMMY_BLOCK)(1674,1762)
      PsiWhiteSpace(' ')(1674,1675)
      PsiElement(=)('=')(1675,1676)
      PsiWhiteSpace(' ')(1676,1677)
      PsiElement(identifier)('writeResult')(1677,1688)
      PsiElement())(')')(1688,1689)
      PsiElement(;)(';')(1689,1690)
      PsiWhiteSpace('\n                    ')(1690,1711)
      PsiElement(})('}')(1711,1712)
      PsiWhiteSpace('\n                ')(1712,1729)
      PsiElement(})('}')(1729,1730)
      PsiWhiteSpace(' ')(1730,1731)
      PsiElement(else)('else')(1731,1735)
      PsiWhiteSpace(' ')(1735,1736)
      PsiElement({)('{')(1736,1737)
      PsiWhiteSpace('\n                    ')(1737,1758)
      PsiElement(identifier)('log')(1758,1761)
      PsiElement(:)(':')(1761,1762)
    PsiElement(DUMMY_BLOCK)(1762,1871)
      PsiElement(identifier)('printError')(1762,1772)
      PsiElement(()('(')(1772,1773)
      PsiElement(QUOTED_STRING_LITERAL)('"Error while writing content to the caller"')(1773,1816)
      PsiElement(,)(',')(1816,1817)
      PsiWhiteSpace('\n                        ')(1817,1842)
      PsiElement(identifier)('err')(1842,1845)
      PsiWhiteSpace(' ')(1845,1846)
      PsiElement(=)('=')(1846,1847)
      PsiWhiteSpace(' ')(1847,1848)
      PsiElement(identifier)('str')(1848,1851)
      PsiElement())(')')(1851,1852)
      PsiElement(;)(';')(1852,1853)
      PsiWhiteSpace('\n                ')(1853,1870)
      PsiElement(})('}')(1870,1871)
    PsiElement(DUMMY_BLOCK)(1871,1947)
      PsiWhiteSpace('\n            ')(1871,1884)
      PsiElement(})('}')(1884,1885)
      PsiWhiteSpace(' ')(1885,1886)
      PsiElement(else)('else')(1886,1890)
      PsiWhiteSpace(' ')(1890,1891)
      PsiElement({)('{')(1891,1892)
      PsiWhiteSpace('\n                ')(1892,1909)
      PsiElement(identifier)('log')(1909,1912)
      PsiElement(:)(':')(1912,1913)
      PsiElement(identifier)('printInfo')(1913,1922)
      PsiElement(()('(')(1922,1923)
      PsiElement(QUOTED_STRING_LITERAL)('"Client left: "')(1923,1938)
      PsiWhiteSpace(' ')(1938,1939)
      PsiElement(+)('+')(1939,1940)
      PsiWhiteSpace(' ')(1940,1941)
      PsiElement(identifier)('caller')(1941,1947)
  PsiElement(DUMMY_BLOCK)(1947,2007)
    PsiElement(.)('.')(1947,1948)
    PsiElement(identifier)('remotePort')(1948,1958)
    PsiElement())(')')(1958,1959)
    PsiElement(;)(';')(1959,1960)
    PsiWhiteSpace('\n            ')(1960,1973)
    PsiElement(})('}')(1973,1974)
    PsiWhiteSpace('\n        ')(1974,1983)
    PsiElement(})('}')(1983,1984)
    PsiWhiteSpace(' ')(1984,1985)
    PsiElement(else)('else')(1985,1989)
    PsiWhiteSpace(' ')(1989,1990)
    PsiElement({)('{')(1990,1991)
    PsiWhiteSpace('\n            ')(1991,2004)
    PsiElement(identifier)('io')(2004,2006)
    PsiElement(:)(':')(2006,2007)
  PsiElement(DUMMY_BLOCK)(2007,2189)
    PsiElement(identifier)('println')(2007,2014)
    PsiElement(()('(')(2014,2015)
    PsiElement(identifier)('result')(2015,2021)
    PsiElement())(')')(2021,2022)
    PsiElement(;)(';')(2022,2023)
    PsiWhiteSpace('\n        ')(2023,2032)
    PsiElement(})('}')(2032,2033)
    PsiWhiteSpace('\n    ')(2033,2038)
    PsiElement(})('}')(2038,2039)
    PsiWhiteSpace('\n\n    ')(2039,2045)
    PsiComment(LINE_COMMENT)('// This resource is invoked for the error situation')(2045,2096)
    PsiWhiteSpace('\n    ')(2096,2101)
    PsiComment(LINE_COMMENT)('// if it happens during the `onConnect` and `onReadReady`.')(2101,2159)
    PsiWhiteSpace('\n    ')(2159,2164)
    PsiElement(resource)('resource')(2164,2172)
    PsiWhiteSpace(' ')(2172,2173)
    PsiElement(function)('function')(2173,2181)
    PsiWhiteSpace(' ')(2181,2182)
    PsiElement(identifier)('onError')(2182,2189)
  PsiElement(DUMMY_BLOCK)(2189,2223)
    PsiElement(()('(')(2189,2190)
    PsiElement(identifier)('socket')(2190,2196)
    PsiElement(:)(':')(2196,2197)
    PsiElement(identifier)('Caller')(2197,2203)
    PsiWhiteSpace(' ')(2203,2204)
    PsiElement(identifier)('caller')(2204,2210)
    PsiElement(,)(',')(2210,2211)
    PsiWhiteSpace(' ')(2211,2212)
    PsiElement(error)('error')(2212,2217)
    PsiWhiteSpace(' ')(2217,2218)
    PsiElement(identifier)('er')(2218,2220)
    PsiElement())(')')(2220,2221)
    PsiWhiteSpace(' ')(2221,2222)
    PsiElement({)('{')(2222,2223)
  PsiElement(DUMMY_BLOCK)(2223,2277)
    PsiWhiteSpace('\n        ')(2223,2232)
    PsiElement(identifier)('log')(2232,2235)
    PsiElement(:)(':')(2235,2236)
    PsiElement(identifier)('printError')(2236,2246)
    PsiElement(()('(')(2246,2247)
    PsiElement(QUOTED_STRING_LITERAL)('"An error occurred"')(2247,2266)
    PsiElement(,)(',')(2266,2267)
    PsiWhiteSpace(' ')(2267,2268)
    PsiElement(identifier)('err')(2268,2271)
    PsiWhiteSpace(' ')(2271,2272)
    PsiElement(=)('=')(2272,2273)
    PsiWhiteSpace(' ')(2273,2274)
    PsiElement(identifier)('er')(2274,2276)
    PsiElement())(')')(2276,2277)
  PsiElement(;)(';')(2277,2278)
  PsiWhiteSpace('\n    ')(2278,2283)
  PsiElement(})('}')(2283,2284)
  PsiWhiteSpace('\n')(2284,2285)
  PsiElement(})('}')(2285,2286)
